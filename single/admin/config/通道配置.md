# 通道配置

::: tip
列表页显示的是各种支付通道的配置情况
:::
## 支付宝配置
> 配置的情况主要分为两种，一种是公钥配置，一种是证书配置，有些敏感性的接口只能使用证书方式。


| 参数       | 功能                                        |
|----------|-------------------------------------------|
| AppId    | 支付宝商户的AppId                               |
| 是否启用     | 停用后会影响支付和退款的发起功能不可用，其他功能不受影响              |
| 异步通知页面地址 | 见下方说明                                     |
| 同步通知页面地址 | 见下方说明                                     |
| 支付网关URL  | 支付宝支付网关的地址，见支付宝文档，沙箱和生产环境地址会不一样           |
| 支持支付方式   | 选择当前支持的支付方式，如wap、付款码等，如果未选中的则不支持该支付方式发起支付 |
| 沙箱环境     | 是否启用沙箱环境                                  |
| 认证方式     | 调用支付宝接口时使用的认证类型，有证书和公钥两种                  |
| 签名类型     | 调用支付宝接口时使用的签名类型，固定为RSA2                   |
| 支付宝公钥    | 从支付宝商户平台中获取                               |                                                              |
| 应用公钥证书   | 从支付宝商户平台中获取 (证书模式必须)                      |
| 支付宝公钥证书  | 从支付宝商户平台中获取 (证书模式必须)                      |
| 支付宝CA证书  | 从支付宝商户平台中获取的支付宝根证书 (证书模式必须)               |
| 应用私钥     | 从支付宝商户平台中获取                               |
| 备注       |                                           |

### 同步通知地址和异步通知地址
> 需要填写的是本支付网关服务的地址, 而不是业务系统的地址，业务系统接收的消息通知是由本支付网关进行发送的。

1. 需 http://xxx.xx或 者 https://xxx.xx 格式的完整路径，
2. 不能加?id=123这类自定义参数，必须外网可以正常访问
3. 消息的通知顺序 `支付宝网关` -> `本网关进行处理` -> `通知业务系统`


## 微信配置
> 微信支付分为 v2 与 v3两种方式，

| 参数        | 功能                                        |
|-----------|-------------------------------------------|
| 商户号       | 微信商户Id                                    |
| 应用编号      | 微信应用AppId                                 |
| AppSecret | APPID对应的接口密码，用于获取微信公众号jsapi支付时使用          |
| 是否启用      | 停用后会影响支付和退款的发起功能不可用，其他功能不受影响              |
| 异步通知地址    | 见下方说明                                     |
| 同步通知地址    | 见下方说明                                     |
| 支持支付方式    | 选择当前支持的支付方式，如wap、付款码等，如果未选中的则不支持该支付方式发起支付 |
| 沙箱环境      | 是否启用沙箱环境                                  |
| APIv2密钥   | 商户平台「API安全」中的 APIv2 密钥                    |
| APIv3密钥   | 商户平台「API安全」中的 APIv3 密钥                    |
| p12证书     | API证书中p12证书，一些敏感接口个信息会使用到                 |                                                              |
| 备注        |                                           |

### 同步通知地址和异步通知地址
> 需要填写的是本支付网关服务的地址, 而不是业务系统的地址，业务系统接收的消息通知是由本支付网关进行发送的。

1. 需 http://xxx.xx或 者 https://xxx.xx 格式的完整路径，
2. 不能加?id=123这类自定义参数，必须外网可以正常访问
3. 消息的通知顺序 `微信支付网关` -> `本网关进行处理` -> `通知业务系统`

## 操作界面
### 列表页
![微信截图_20240215020426](https://jsd.cdn.zzko.cn/gh/xxm1995/picx-images-hosting@master/daxpay/微信截图_20240215020426.2srx89wj97e0.webp)
### 支付宝公钥配置
![微信截图_20240215020450](https://jsd.cdn.zzko.cn/gh/xxm1995/picx-images-hosting@master/daxpay/微信截图_20240215020450.3abki92bc6w0.webp)
### 支付宝证书配置
![微信截图_20240215020500](https://jsd.cdn.zzko.cn/gh/xxm1995/picx-images-hosting@master/daxpay/微信截图_20240215020500.70t1lyqmiq80.webp)
### 微信支付配置
![微信截图_20240215020525](https://jsd.cdn.zzko.cn/gh/xxm1995/picx-images-hosting@master/daxpay/微信截图_20240215020525.6cat26y0zv40.webp)
