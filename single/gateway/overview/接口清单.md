# 接口列表

::: tip 提示
业务系统想接入支付网关的话，不需要集成到业务系统里，只需要单独部署一份支付系统，然后业务系统通过接口调用即可拥有对应的支付能力，
不会对原业务系统的架构产生影响。如果是Java项目，可以使用[支付网关SDK](../overview/SDK使用说明.md)简化接入流程，
其他语言可以参照接口文档中的说明使用HTTP接口方式接入。
:::

## 接入流程概括
1. 部署并启动支付系统，并登录到支付网关后台管理端
2. 创建应用并配置支付通道、接口配置、签名方式、密钥等参数
3. 在业务系统中配置支付网关的调用地址，启用签名验证的话，需要将密钥配置到业务系统中
4. 业务系统使用支付网关提供的接口进行调用支付的能力

## 交易接口列表

| 名称        | 接口地址                  | 支持回调 | 备注                            |
|-----------|-----------------------|------|-------------------------------|
| 统一支付接口    | /unipay/pay           | 支持   |                               |
| 统一退款接口    | /unipay/refund        | 支持   |                               |
| 统一转账接口    | /unipay/transfer      | 支持   |                               |
| 支付关闭和撤销接口 | /unipay/close         | 支持   | 不支持单独传输通知地址，会直接将通知发往支付时所传输的地址 |
| 支付同步接口    | /unipay/syncPay       | 不支持  |                               |
| 退款同步接口    | /unipay/syncRefund    | 不支持  |                               |
| 转账同步接口    | /unipay/sync/transfer | 不支持  |                               |

## 查询接口列表
| 名称        | 接口地址                             | 备注 |
|-----------|----------------------------------|----|
| 支付订单查询接口  | /unipay/query/payOrder           |    |
| 退款订单查询接口  | /unipay/query/refundOrder        |    |
| 转账订单查询接口  | /unipay/query/transferOrder      |    |

## 分账接口
| 名称        | 接口地址                          | 备注 |
|-----------|-------------------------------|----|
| 分账接收方添加接口 | /unipay/alloc/receiver/add    |    |
| 分账接收方删除接口 | /unipay/alloc/receiver/remove |    |

## 认证接口
| 名称                | 接口地址                                         | 备注                     |
|-------------------|----------------------------------------------|------------------------|
| 获取授权链接            | /unipay/assist/channel/auth/getWxAuthUrl     |                        |
| 通过AuthCode获取认证结果  | /unipay/assist/channel/auth/getWxAccessToken | 此接口需要进行签名才可以调用，会返回认证结果 |
| 通过AuthCode认证并设置结果 | /unipay/assist/channel/auth/getWxAccessToken | 此接口不需要进行签名，但不会返回认证结果   |

## 消息通知接收接口
> 需要订阅对应消息类型才会进行消息的推送

| 名称        | 备注 |
|-----------|----|
| 支付订单变动通知  |    |
| 退款订单变动通知  |    |
| 云闪付同步跳转通知 |    |

## 扩展接口
> 通常用于特定用处，不用于对外部的调用，所以多数接口不需要进行签名

| 名称          | 接口地址                                       | 备注                |
|-------------|--------------------------------------------|-------------------|
| 获取收银台信息     | /unipay/ext/channel/cashier/getCashierInfo |                   |
| 获取收银台所需授权链接 | /unipay/ext/channel/cashier/getWxAuthUrl   | 用于获取微信OpenId一类的信息 |
| 授权获取结果      | /unipay/ext/channel/cashier/getWxAuthUrl   |                   |
| 发起支付        | /unipay/ext/channel/cashier/pay            |                   |
