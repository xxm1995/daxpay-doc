import{_ as d,c as r,o as a,aj as e}from"./chunks/framework.DbINzAG1.js";const _=JSON.parse('{"title":"支付订单","description":"","frontmatter":{},"headers":[],"relativePath":"open/admin/trade/支付订单.md","filePath":"open/admin/trade/支付订单.md","lastUpdated":1746773202000}'),o={name:"open/admin/trade/支付订单.md"};function h(s,t,n,c,i,l){return a(),r("div",null,t[0]||(t[0]=[e('<h1 id="支付订单" tabindex="-1">支付订单 <a class="header-anchor" href="#支付订单">¶</a></h1><div class="tip custom-block"><p class="custom-block-title">提示</p><p>支付订单是整个支付系统的核心，一切的支付操作都从订单开始，并围绕着订单进行。</p></div><h2 id="操作介绍" tabindex="-1">操作介绍 <a class="header-anchor" href="#操作介绍">¶</a></h2><blockquote><p>点击订单条目的操作按钮，可以进行支付同步、关闭、退款操作</p></blockquote><table tabindex="0"><thead><tr><th>功能</th><th>说明</th></tr></thead><tbody><tr><td>找太同步</td><td>获取第三方支付网关(支付宝、微信等)的订单的信息与本地订单进行对比，如果不一致则变更本地订单的状态，<strong>注意：如果状态是退款类型的，不进行处理，需要通过退款同步进行处理</strong></td></tr><tr><td>关闭</td><td>如果订单状态为支付中，可以进行关闭订单的操作，会请求第三方支付网关将订单进行关闭</td></tr><tr><td>撤销</td><td>如果订单状态为支付中，可以进行撤销订单的操作，会请求第三方支付网关将订单进行撤销，注意只有部分通道支持本操作</td></tr><tr><td>退款</td><td>订单支付成功或者未全部退款时，可以发起退款请求</td></tr><tr><td>分账</td><td>当订单支付完成后，在允许分账的情况下可以进行手动分账，注意系统目前只支持单次分账</td></tr></tbody></table><h2 id="参数介绍" tabindex="-1">参数介绍 <a class="header-anchor" href="#参数介绍">¶</a></h2><blockquote><p>支付订单在系统中不只是一个表，而是由多个表组合而来的，如果想了解到具体的表结构，可以自行查阅源码</p></blockquote><table tabindex="0"><thead><tr><th>参数</th><th>功能</th></tr></thead><tbody><tr><td>支付ID</td><td>支付订单的唯一标识，通过支付时系统自动生成的，与外部的各类关联也是通过支付ID进行关联的，如退款、对账、第三方支付网关等</td></tr><tr><td>业务号</td><td>发起支付时业务系统传入业务编号，需要保证唯一，用于关联业务系统和支付网关</td></tr><tr><td>网关订单号</td><td>此处网关指的是第三方支付网关，如支付宝、微信等，订单号是第三方支付网关的订单号，用于关联本系统与三方支付的关系</td></tr><tr><td>标题</td><td>发起支付时订单的名称，会在三方支付网关中显示</td></tr><tr><td>描述</td><td>订单的描述信息</td></tr><tr><td>金额</td><td>支付的金额</td></tr><tr><td>可退余额</td><td>当前还剩余多少可以进行退款的余额</td></tr><tr><td>支付状态</td><td>当前支付订单的支付状态，如支付中、支付成功、支付失败等，详情可以查看<a href="/open/guides/other/常量和状态表.html#支付状态-paystatusenum">支付状态</a></td></tr><tr><td>支付信息</td><td>分通道的支付信息，如支付宝、钱包每个通道支付了多少</td></tr><tr><td>可退款信息</td><td>分通道的可退款金额信息，如支付宝、钱包每个通道还剩余多少可以退款</td></tr><tr><td>客户IP</td><td>支付时的客户端IP，用于记录支付时的IP</td></tr><tr><td>错误信息</td><td>暂时未使用</td></tr><tr><td>通知地址</td><td>支付成功或失败后，会发送通知给业务系统的地址，通知的内容是支付网关的回调通知，具体请参考支付网关的文档</td></tr><tr><td>签名类型</td><td>请求支付网关的签名类型，如MD5、HMAC-SHA256</td></tr><tr><td>签名</td><td>具体的签名值</td></tr><tr><td>商户扩展参数</td><td>回调时原样返回</td></tr><tr><td>请求时间</td><td>发起支付的时间，由客服系统进行传输，并不是支付网关接收到请求时的时间</td></tr><tr><td>支付时间</td><td>订单支付完成的时间，同步支付与创建时间一致，包含异步支付时，使用三方支付网关返回的支付时间</td></tr><tr><td>过期时间</td><td>订单的有效时间，超过过期时间的订单，会自动关闭</td></tr><tr><td>创建时间</td><td>接收到支付请求进行创建出订单的时间</td></tr></tbody></table><h2 id="操作界面" tabindex="-1">操作界面 <a class="header-anchor" href="#操作界面">¶</a></h2>',9)]))}const b=d(o,[["render",h]]);export{_ as __pageData,b as default};
