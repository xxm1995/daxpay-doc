import{_ as a,c as s,o as i,aj as o}from"./chunks/framework.DbINzAG1.js";const k=JSON.parse('{"title":"常见问题","description":"","frontmatter":{},"headers":[],"relativePath":"common/guides/常见问题.md","filePath":"common/guides/常见问题.md","lastUpdated":1746773202000}'),t={name:"common/guides/常见问题.md"};function n(d,e,p,c,l,r){return i(),s("div",null,e[0]||(e[0]=[o(`<h1 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题">¶</a></h1><h3 id="在调用需要证书的接口时-出现-javax-net-ssl-sslhandshakeexception-no-appropriate-protocol-protocol-is-disabled-or-cipher-suites-are-inappropriate-错误" tabindex="-1">在调用需要证书的接口时，出现 javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)错误 <a class="header-anchor" href="#在调用需要证书的接口时-出现-javax-net-ssl-sslhandshakeexception-no-appropriate-protocol-protocol-is-disabled-or-cipher-suites-are-inappropriate-错误">¶</a></h3><blockquote><p>原因：ssl 握手失败，使用了java.security不支持的版本，换一下最新的JDK即可, 例如 corretto Jdk</p></blockquote><h3 id="支付订单有效期是多久-如何进行设置" tabindex="-1">支付订单有效期是多久，如何进行设置？ <a class="header-anchor" href="#支付订单有效期是多久-如何进行设置">¶</a></h3><blockquote><p>支付订单有效期默认是30分钟，如果超过30分钟，支付订单会自动失效。可以在管理后台设置默认的支付订单有效期。也可以通过调用接口设置支付订单有效期，接口如果传输了过期时间，优先使用接口传入的过期时间。</p></blockquote><h3 id="点击登录时报未开启超级管理员权限错误提示" tabindex="-1">点击登录时报<code>未开启超级管理员权限</code>错误提示 <a class="header-anchor" href="#点击登录时报未开启超级管理员权限错误提示">¶</a></h3><blockquote><p>系统中没有开启超级管理员用户的登录权限，可以在配置文件中设置<code>bootx.starter.auth.enable-admin</code>属性为<code>true</code>，开启超级管理员权限即可。</p></blockquote><h3 id="如何在生产环境关闭swagger接口文档" tabindex="-1">如何在生产环境关闭<code>Swagger</code>接口文档？ <a class="header-anchor" href="#如何在生产环境关闭swagger接口文档">¶</a></h3><blockquote><p>可以在配置文件中设置<code>knife4j.production</code>属性为<code>true</code>，关闭Swagger接口文档。</p></blockquote><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">knife4j</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 开启knife4j接口文档增强特性</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  enable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 是否为生产环境, 为true关闭swagger接口</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  production</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><h3 id="本地运行正常-部署到服务器上报-xx-xx-没有对应的权限错误" tabindex="-1">本地运行正常，部署到服务器上报 &quot;/xx/xx&quot; 没有对应的权限错误 <a class="header-anchor" href="#本地运行正常-部署到服务器上报-xx-xx-没有对应的权限错误">¶</a></h3><p>通常是Nginx接口转发时路径转发错误，可以查看服务或者Nginx端输出日志，确定路径是否转发正确，根据错误信息修改Nginx配置文件。</p><h3 id="微信oauth2认证和openid获取时的一种方案" tabindex="-1">微信OAuth2认证和OpenId获取时的一种方案 <a class="header-anchor" href="#微信oauth2认证和openid获取时的一种方案">¶</a></h3><div class="tip custom-block"><p class="custom-block-title">问题说明</p><p>由于微信部分支付类型需要上送<code>OpenId</code>信息，<code>OpenId</code>信息的获取需要走微信OAuth2认证，同时微信OAuth2认证需要使用到<code>授权回调地址</code>只可以配置两个。 多数时候我们一个微信账号会对应多个系统，此时将无法为每个系统配置不同的回调地址，所以我们可以通过重定向的方式来绕过可配置<code>授权回调地址</code>数量的限制，具体方式如下:</p></div><ul><li>使用<code>Nginx</code>起一个转发服务，通过二级目录区分业务系统并进行重定向，如<code>https://nginx.xxxx.com/daxpay/</code> ，nginx.xxxx.com为Nginx转发服务的地址，daxpay为区分业务系统的二级目录</li><li>将这个<code>Nginx服务转发地址</code>配置为微信的<code>授权回调地址</code>中，来处理后续的授权回调请求</li><li>在服务商通道配置或支付通道配置中<code>微信OAuth2认证服务地址</code>配置为该地址加用于区分使用的二级目录，后续生成的授权回调地址中经过转发服务进行重定向，从而绕开<code>授权回调地址</code>数量的限制</li></ul><blockquote><p>这里的说明只针对通过DaxPay系统获取OpenId的情况，如果自行获取OpenId，则进行自行处理，但收银台、聚合支付、码牌等网关支付方式将不可以选择使用需要获取OpenId的支付方式</p></blockquote>`,16)]))}const x=a(t,[["render",n]]);export{k as __pageData,x as default};
