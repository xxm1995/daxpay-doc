# 获取授权链接

:::tip
例如使用微信公众号支付时，调起支付中需要传输用户`OpenId`信息，虽然我们可以直接在客户系统中直接调用微信接口进行获取，
但有些情况下我们不方便让业务系统知道微信公众平台的敏感数据，如`AppId`、`appSecret`，所以提供这个中转接口来支持间接的调用微信平台。
:::

## 接口说明

| 参数    | 说明                                            |
|-------|-----------------------------------------------|
| 请求URL | `/unipay/assist/channel/auth/generateAuthUrl` |
| 请求方式  | `POST`                                        |
| 请求类型  | `application/json`                            |

## 请求参数
> 获取获取授权链接接口不需要进行签名，可以直接进行调用

| 字段名<img width=70/> | 变量名             | 必填 | 类型     |    | 示例值                 | 描述<img width=200/>                                                             |
|--------------------|-----------------|----|--------|----|---------------------|--------------------------------------------------------------------------------|
| 支付通道               | channel         | 是  | String | 32 | 892e382a7093b81e6a  | 要进行认证的通道编码                                                                     |
| 授权重定向地址            | authRedirectUrl | 否  | String | 32 | https://abc.com/abc | 如果不传, 使用系统提供的默认地址，如微信就可以指定回调地址来接收认证Code。像支付宝类的不需要传输，直接自行获取认证Code即可           , |
| 应用号                | appId           | 否  | String | 32 | A112544225541       | 此次操作所要使用的支付应用号                                                                 |

## 响应结果

### 通用响应参数
:::warning
状态码返回0只代表受理业务成功，业务是否成功需要看具体业务的返回信息，不为0表示受理失败，具体响应吗可以参考[返回状态码](../overview/返回状态码.md)
:::

| 名称<img width=70/> | 字段      | 类型      | 示例值                 | 描述                                   |
|-------------------|---------|---------|---------------------|--------------------------------------|
| 状态码               | code    | Integer | 0                   | 默认是0，非0表明请求失败，例如签名错误等                |
| 提示信息              | msg     | String  |                     | 发生错误时会有数据返回                          |
| 业务数据              | data    | Json字符串 |                     | json格式数据，不同的接口返回结构不同，可以参考业务公共响应参数    |
| 签名                | sign    | String  | sIV4zJVhZ4Uz        | 返回数据的签名值                             |
| 响应时间              | resTime | String  | 2024-08-08 12:12:12 | 数据响应的时间, 如果时间与请求时间相差5分钟以上，请排查网络和安全问题 |
| 追踪ID              | traceId | String  | sIV4zJVhZ4Uz        | 用于查询日志排查问题时进行快速定位                    |

### 业务响应参数
::: tip 提示
业务数据包裹在`公共响应参数`中的`data`字段，在`code`为`0`时才会有返回数据。
:::


| 字段名<img width=70/> | 变量名       | 必传 | 类型     | 示例值                                                        | 描述        |
|--------------------|-----------|----|--------|------------------------------------------------------------|-----------|
| 授权访问链接             | authUrl   | 是  | String | http://wx.weixiba.com/auth?redirectUrl=https://abc.com/abc |           | 
| 查询标识码              | queryCode | 是  | String | 3b81e6a2e3b812a78a709309                                   | 用来查询授权结果的 |


## HTTP请求示例
### 请求参数
```json
```

### 响应参数(成功)

```json
```

### 响应参数(失败)

```json
```

## SDK请求示例

::: tip 提示

使用SDK可以简化接入支付的速度

:::

```java
```
