# 统一支付接口(通道说明)
## 微信支付

### 特殊说明

### 通道支付参数

| 数         | 名称       | 类型   | 描述<img width=270/>                                         |
| ---------- | ---------- | ------ | ------------------------------------------------------------ |
| openIdType | OpenId类型 | String | 服务商模式下分为 用户服务标识 sp 用户子标识 sub，默认为用户服务标识， 直连商户不需要传输 |

### PayBody数据说明

| 支付通道 | 支付方式 | 描述                                                | 实例 |
| -------- | -------- | --------------------------------------------------- | ---- |
| 微信     | 扫码支付 | 返回的是一个URL链接, 可以直接进行支付               |      |
| 微信     | wap支付  | 返回的是一个URL链接, 可以直接进行支付               |      |
| 微信     | Jsapi    | 返回的是个Map结构的Json字符串, 需要根据参数调起支付 |      |
| 微信     | App      | 返回的是个Map结构的Json字符串, 需要根据参数调起支付 |      |

#### Jsapi返回结构

| 字段      | 名称           | 备注                                                         |
| --------- | -------------- | ------------------------------------------------------------ |
| appid     | 应用id         | 微信开放平台审核通过的移动应用AppID 。                       |
| timeStamp | 时间戳         | 时间戳，标准北京时间，时区为东八区, 自1970年1月1日 0点0分0秒以来的秒数 |
| nonceStr  | 随机字符串     |                                                              |
| package   | 预支付ID拼接值 | JSAPI下单接口返回的prepay_id参数值进行拼接, 格式如：prepay_id=*** |
| signType  | 签名类型       | 默认为RSA                                                    |
| paySign   | 签名           | 使用字段AppID、timeStamp、nonceStr、package计算得出的签名值  |

#### App返回结构

| 字段      | 名称        | 备注                                                         |
| --------- | ----------- | ------------------------------------------------------------ |
| appid     | 应用id      | 微信开放平台审核通过的移动应用AppID 。                       |
| partnerid | 商户号mchid | 请填写商户号mchid对应的值。                                  |
| prepayid  | 交易会话ID  | 微信返回的支付交易会话ID，该值有效期为2小时                  |
| package   | package     | 暂填写固定值Sign=WXPay                                       |
| nonceStr  | 随机字符串  |                                                              |
| timeStamp | 时间戳      | 时间戳，标准北京时间，时区为东八区, 自1970年1月1日 0点0分0秒以来的秒数 |
| sign      | 签名        | 使用字段AppID、timeStamp、nonceStr、prepayid计算得出的签名值 注意：取值RSA格式 |

## 支付宝

### 特殊说明

### 通道支付参数

| 参数    | 名称             | 类型   | 描述<img width=270/>                                         |
| ------- | ---------------- | ------ | ------------------------------------------------------------ |
| opAppId | 小程序应用ID     | String | 商户实际经营主体的小程序应用的appid，也即最终唤起收银台支付所在的小程序的应用id, 商户需要先在产品管理中心绑定该小程序appid，否则下单会失败 |
| buyerId | 买家支付宝用户ID | String | 新商户建议使用buyer_open_id替代该字段。对于新商户，buyer_id字段未来计划逐步回收，存量商户可继续使用 |

### PayBody数据说明

| 支付方式              | 描述                                           | 实例 |
| --------------------- | ---------------------------------------------- | ---- |
| 电脑/扫码支付/wap支付 | 返回的是一个URL链接, 可以直接进行支付          |      |
| App                   | 返回的是一个签名字符串, 通过签名字符串调起支付 |      |
| Jsapi                 | 返回的是支付宝交易号, 使用支付宝交易号调起支付 |      |
| App支付               | 返回签名字符串，见下方说明                     |      |

#### App支付

返回的是一个签名字符串: 
`app_id=2017060101317939&biz_content=%7B%22time_expire%22%3A%222016-12-31+10%3A05%3A00%22%2C%22extend_params%22%3A%22%22%2C%22query_options%22%3A%22%5B%5C%22hyb_amount%5C%22%2C%5C%22enterprise_pay_info%5C%22%5D%22%2C%22subject%22%3A%22%E5%A4%A7%E4%B9%90%E9%80%8F%22%2C%22product_code%22%3A%22QUICK_MSECURITY_PAY%22%2C%22body%22%3A%22Iphone6+16G%22%2C%22passback_params%22%3A%22merchantBizType%253d3C%2526merchantBizNo%253d2016010101111%22%2C%22specified_channel%22%3A%22pcredit%22%2C%22goods_detail%22%3A%22%22%2C%22merchant_order_no%22%3A%2220161008001%22%2C%22enable_pay_channels%22%3A%22pcredit%2CmoneyFund%2CdebitCardExpress%22%2C%22out_trade_no%22%3A%2270501111111S001111119%22%2C%22ext_user_info%22%3A%22%22%2C%22total_amount%22%3A%229.00%22%2C%22timeout_express%22%3A%2290m%22%2C%22disable_pay_channels%22%3A%22pcredit%2CmoneyFund%2CdebitCardExpress%22%2C%22agreement_sign_params%22%3A%22%22%7D&charset=UTF-8&format=json&method=alipay.trade.app.pay&sign=ERITJKEIJKJHKKKKKKKHJEREEEEEEEEEEE&sign_type=RSA2&timestamp=2014-07-24+03%3A07%3A50&version=1.0`

>
>  参考 [支付宝APP接入文档](https://opendocs.alipay.com/open/01dcc0?pathHash=cf89b2be) 进行调起支付 



## 云闪付

### 特殊说明

### 通道支付参数

### PayBody数据说明

## 乐刷

### 特殊说明

### 通道支付参数

### PayBody数据说明

## 随行付

### 特殊说明

### 通道支付参数

### PayBody数据说明

## 汇付天下

### 特殊说明

### 通道支付参数

### PayBody数据说明



