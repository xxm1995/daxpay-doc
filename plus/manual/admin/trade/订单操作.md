# 订单操作
::: tip 说明
订单类的操作比较简单，所以将所有类型的订单放在一起进行描述，避免过多的分类。
:::

## 功能介绍 
### 支付订单
> 系统的核心数据，用于记录用户支付的订单信息。同时可以进行

#### 订单状态
> 支付订单中除了自身的状态，还额外记录了该订单进行退款和分账的状态

| 类型   | 状态                                                             |
|------|----------------------------------------------------------------|
| 订单状态 | 见常量和状态表[支付状态](/plus/gateway/interface/overview/常量和状态表.md)相关的描述 |
| 退款状态 | 见常量和状态表[退款状态](/plus/gateway/interface/overview/常量和状态表.md)相关的描述 |
| 分账状态 | 待补充                                                            |

#### 操作类型
| 操作 | 功能                                                            |
|----|---------------------------------------------------------------|
| 关闭 | 支付中和待支付时可以进行的操作，关闭当前的支付订单                                     |
| 撤销 | 支付中和待支付时可以进行的操作，撤销当前的支付订单，如果通道不支持则会走关闭订单逻辑                    |
| 同步 | 向通道方同步订单状态信息，处理未接到回调或未自动同步导致状态不一致的订单，**注：只能从执行态流转到终态，无法反向流转** |
| 退款 | 可以对支付完成且未退款完毕的订单进行退款，如果已经在退款中则需要完成退款中才可以进行操作                  |
| 分账 | 支付完成且允许分账的订单可以触发分账操作，使用默认的分账组进行处理                             |

### 退款订单
> 记录进行退款操作的订单，主要的操作注意用来处理退款失败的订单进行关闭或者重试，此处退款订单的状态会影响到关联支付订单的退款状态

| 操作 | 功能                                                            |
|----|---------------------------------------------------------------|
| 同步 | 向通道方同步订单状态信息，处理未接到回调或未自动同步导致状态不一致的订单，**注：只能从执行态流转到终态，无法反向流转** |
| 重试 | 退款中和退款失败的订单可以进行退款重试，如果通道无法保证幂等性，则不允许仅需要重试                     |
| 关闭 | 对退款失败的订单可以进行关闭，关闭后支付订单的退款状态也会从退款中更新其他状态，从而可以重新进行退款操作          |
### 转账订单
> 待补充

| 操作 | 功能                                      |
|----|-----------------------------------------|
|    |                                         |
|    |                                         |
|    |                                         |
### 分账订单
> 待补充

| 操作 | 功能                                      |
|----|-----------------------------------------|
|    |                                         |
|    |                                         |
|    |                                         |
## 操作截图

![wechat_2025-05-05_210237_669](https://cdn.jsdmirror.com/gh/xxm1995/picx-images-hosting@master/20250505/wechat_2025-05-05_210237_669.8dx2x16v9k.webp)

![wechat_2025-05-05_210248_032](https://cdn.jsdmirror.com/gh/xxm1995/picx-images-hosting@master/20250505/wechat_2025-05-05_210248_032.3gom36t3gs.webp)
